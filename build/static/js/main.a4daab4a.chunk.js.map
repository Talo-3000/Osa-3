{"version":3,"sources":["components/Filter.js","services/contacts.js","components/Person.js","components/PersonForm.js","App.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Person","props","name","number","type","onClick","window","confirm","contactService","setPersons","persons","person","setErrorStyle","color","setErrorMessage","setTimeout","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","Notification","message","errorStyle","className","style","App","useState","setNewName","setNewNumber","setFilter","errorMessage","useEffect","contacts","toShow","toLowerCase","includes","alertName","map","event","target","preventDefault","personObject","find","p","changedPerson","returnedPerson","catch","error","returnedContact","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a4daab4a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filter, handleFilter }) => {\r\n  \r\n    return (\r\n      <div>\r\n        filters shown with <input \r\n        value={filter}\r\n        onChange={handleFilter}/>\r\n      </div>\r\n    )\r\n  }\r\n  \r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => {\r\n    return response.data\r\n  })\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteContact = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request\r\n}\r\n\r\nexport default { getAll, create, update, deleteContact }","import React from 'react'\r\nimport contactService from '../services/contacts'\r\n\r\nconst Person = (props) => {\r\n\r\n  const deleteContact = id => {\r\n  if(window.confirm(`Delete contact ${props.name}?`)) {\r\n    contactService\r\n      .deleteContact(props.id)\r\n        .then(props.setPersons(props.persons.filter(person => person.id !== id)))\r\n        props.setErrorStyle({color: 'green'})  \r\n            props.setErrorMessage(\r\n              `Deleted ${props.name}`\r\n            )\r\n            \r\n        setTimeout(() => {\r\n          props.setErrorMessage(null)\r\n        }, 3000) \r\n  }\r\n  }\r\n    return (\r\n      <li>\r\n      {props.name} {props.number}\r\n      <button type=\"button\" onClick={() => deleteContact(props.id)}>delete</button>\r\n      </li>\r\n    )\r\n  }\r\nexport default Person","import React from 'react'\r\nconst PersonForm = ({addName, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n    return (\r\n    <form onSubmit={addName}>\r\n    <div>\r\n        name: \r\n        <input \r\n        value={newName}\r\n        onChange={handleNameChange} \r\n        />\r\n    </div>\r\n    <div>\r\n        number:\r\n        <input\r\n        value={newNumber}\r\n        onChange={handleNumberChange}\r\n        />\r\n    </div>\r\n    <div>\r\n        <button type=\"submit\">add</button>\r\n    </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Person from './components/Person'\nimport PersonForm from './components/PersonForm'\nimport contactService from './services/contacts'\nimport './index.css'\n\nconst Notification = ({ message, errorStyle }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\" style={errorStyle}>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ errorMessage, setErrorMessage] = useState(null)\n  const [ errorStyle, setErrorStyle ] = useState()\n\n  useEffect(() => {\n    contactService.getAll()\n      .then(contacts => setPersons(contacts))\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (alertName(newName)) {\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(p => p.name.toLowerCase() === newName.toLowerCase())\n        const changedPerson = {...person, number: newNumber}\n        const id = person.id\n        contactService\n          .update(id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id === id ? returnedPerson : person))\n            setErrorStyle({color: 'green'})  \n            setErrorMessage(\n              `Updated ${personObject.name}`\n            ) \n          })\n          .catch(error => {\n            setErrorStyle({color: 'red'})\n            setErrorMessage(`${personObject.name} has already been removed`)\n            setPersons(persons.filter(person => person.id !== id))\n          })\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)      \n      }\n      setNewName('')\n      setNewNumber('')\n      return\n    }\n    contactService\n      .create(personObject)\n        .then(returnedContact => {\n          setPersons(persons.concat(returnedContact))\n          setErrorStyle({color: 'green'})  \n            setErrorMessage(\n              `Added ${personObject.name}`\n            )       \n        })\n\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 3000)\n\n    setPersons(persons.concat(personObject))\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const toShow = !filter ? persons\n  : persons.filter(person => person.name.toLowerCase().includes(filter))\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n  const alertName = (props) => {\n    const names = persons.map(person => person.name.toLowerCase())\n    if (names.includes(props)) {\n      return true\n    }\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} errorStyle={errorStyle} />\n      <Filter filter={filter} handleFilter={handleFilter} />\n      <h2>Add a new contact</h2>\n      <PersonForm addName={addName} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <ul>\n        {toShow.map(person =>\n          <Person name={person.name} number={person.number} key={person.name} id={person.id} persons={persons} setPersons={setPersons} setErrorMessage={setErrorMessage} setErrorStyle={setErrorStyle}/>\n        )}\n      </ul>\n     \n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, \ndocument.getElementById('root'))"],"sourceRoot":""}